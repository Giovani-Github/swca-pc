# 错误总结

##### Vue组件命名方式

* 不要与iview的组件重名，否则导致错误的循环，导致栈溢出

----

##### 引入外部less文件时报错：

> Module build failed: 
>
> // https://github.com/ant-design/ant-motion/issues/44
> .bezierEasingMixin();
> ^
> Inline JavaScript is not enabled. Is it set in your options?
> ​      in F:\webStormProjects\swca-pc\node_modules\iview\src\styles\color\bezierEasing.less (line 110, column 0)
>
>  @ ./node_modules/vue-style-loader!./node_modules/css-loader?{"sourceMap":true}!./node_modules/vue-loader/lib/style-compiler?{"vue":true,"id":"data-v-1bf844f6","scoped":true,"hasInlineConfig":false}!./node_modules/less-loader/dist/cjs.js?{"sourceMap":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/footer-sw.vue 4:14-374 13:3-17:5 14:22-382
>  @ ./src/components/footer-sw.vue
>  @ ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue
>  @ ./src/App.vue
>  @ ./src/main.js
>  @ multi (webpack)-dev-server/client?http://localhost:8080 webpack/hot/dev-server ./src/main.js

修改`build/utils.js`，添加：

> javascriptEnabled: true 

```js
  // generate loader string to be used with extract text plugin
  function generateLoaders (loader, loaderOptions) {
    const loaders = options.usePostCSS ? [cssLoader, postcssLoader] : [cssLoader]

    if (loader) {
      loaders.push({
        loader: loader + '-loader',
        options: Object.assign({}, loaderOptions, {
          sourceMap: options.sourceMap,
          javascriptEnabled: true // <- enable this option
        })
      })
    }

    // Extract CSS when that option is specified
    // (which is the case during production build)
    if (options.extract) {
      return ExtractTextPlugin.extract({
        use: loaders,
        fallback: 'vue-style-loader'
      })
    } else {
      return ['vue-style-loader'].concat(loaders)
    }
  }
```

----

##### 局部使用less不生效错误

 错误写法：

> lang="less"，使用双引号，导致识别不出来

```vue
<template>
</template>

<script>
  export default {
  }
</script>
<style scoped lang="less">
</style>
```

正确写法：

> lang='less'，使用单引号

```vue
<template>
</template>

<script>
  export default {
  }
</script>
<style scoped lang='less'>
</style>
```

----

##### Vue2中实现组件props双向绑定

可参考：[Vue2中实现组件props双向绑定](https://www.cnblogs.com/xxcanghai/p/6124699.html)

需要使用双向绑定的情况：

1. 组件内部需要修改props。
2. 组件需要可以由外部在运行时动态控制，而非单纯初始化。
3. 组件外部需要读取组件内的状态来进行处理

如有以上情况，不使用双向绑定时则报错：

> [Vue warn]: Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: "logRegPopup" (found in component )

----

##### 更改iview对话框样式不生效

需要去掉 `scoped`

>  src/components/user/log-reg-panel.vue:54

```vue
<style lang='less'>
  @import "../../common/less/global";

  .logReg {
    .full-center;
    .ivu-modal {
      top: 0;
    }
  }
</style>
```

---

