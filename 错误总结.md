# 错误总结

##### Vue组件命名方式

* 不要与iview的组件重名，否则导致错误的循环，导致栈溢出

----

##### 引入外部less文件时报错

> Module build failed: 
>
> // https://github.com/ant-design/ant-motion/issues/44
> .bezierEasingMixin();
> ^
> Inline JavaScript is not enabled. Is it set in your options?
> ​      in F:\webStormProjects\swca-pc\node_modules\iview\src\styles\color\bezierEasing.less (line 110, column 0)
>
>  @ ./node_modules/vue-style-loader!./node_modules/css-loader?{"sourceMap":true}!./node_modules/vue-loader/lib/style-compiler?{"vue":true,"id":"data-v-1bf844f6","scoped":true,"hasInlineConfig":false}!./node_modules/less-loader/dist/cjs.js?{"sourceMap":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/footer-sw.vue 4:14-374 13:3-17:5 14:22-382
>  @ ./src/components/footer-sw.vue
>  @ ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue
>  @ ./src/App.vue
>  @ ./src/main.js
>  @ multi (webpack)-dev-server/client?http://localhost:8080 webpack/hot/dev-server ./src/main.js

修改`build/utils.js`，添加：

> javascriptEnabled: true 

```js
  // generate loader string to be used with extract text plugin
  function generateLoaders (loader, loaderOptions) {
    const loaders = options.usePostCSS ? [cssLoader, postcssLoader] : [cssLoader]

    if (loader) {
      loaders.push({
        loader: loader + '-loader',
        options: Object.assign({}, loaderOptions, {
          sourceMap: options.sourceMap,
          javascriptEnabled: true // <- enable this option
        })
      })
    }

    // Extract CSS when that option is specified
    // (which is the case during production build)
    if (options.extract) {
      return ExtractTextPlugin.extract({
        use: loaders,
        fallback: 'vue-style-loader'
      })
    } else {
      return ['vue-style-loader'].concat(loaders)
    }
  }
```

----

##### 局部使用less不生效错误

 错误写法：

> lang="less"，使用双引号，导致识别不出来

```vue
<template>
</template>

<script>
  export default {
  }
</script>
<style scoped lang="less">
</style>
```

正确写法：

> lang='less'，使用单引号

```vue
<template>
</template>

<script>
  export default {
  }
</script>
<style scoped lang='less'>
</style>
```

----

##### Vue2中实现组件props双向绑定

参考文档：

> [Vue2中实现组件props双向绑定](https://www.cnblogs.com/xxcanghai/p/6124699.html)

需要使用双向绑定的情况：

1. 组件内部需要修改props。
2. 组件需要可以由外部在运行时动态控制，而非单纯初始化。
3. 组件外部需要读取组件内的状态来进行处理

如有以上情况，不使用双向绑定时则报错：

> [Vue warn]: Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: "logRegPopup" (found in component )

----

##### 更改iview对话框样式不生效

需要去掉 `scoped`

>  src/components/user/log-reg-panel.vue:54

```vue
<style lang='less'>
  @import "../../common/less/global";

  .logReg {
    .full-center;
    .ivu-modal {
      top: 0;
    }
  }
</style>
```

##### vue2中使用animate.css

参考文档：

> [animate.css在vue项目中的使用教程](https://www.jb51.net/article/145090.htm)
>
> [vue + webpack 中怎么用 animate.css啊](https://segmentfault.com/q/1010000007871345)
>
> [vue2使用animate css](https://blog.csdn.net/qq_25804071/article/details/70911421)

1. 安装animate.css

   > npm install animate.css --save

2. 引入

   在`src/main.js`中引入

   ```javascript
   import Vue from 'vue';
   import App from './App';
   import router from './router';
   import animated from 'animate.css';
   
   Vue.use(animated);
   
   Vue.config.productionTip = false;
   
   new Vue({
     el: '#app',
     router,
     components: {App},
     template: '<App/>'
   });
   
   ```

3. 使用

   1. 为路由添加过渡并使用animate.css

   ```vue
   <transition name="bounce" 
               enter-active-class="animated bounceInLeft" 
               leave-active-class="animated bounceOutRight">
   	<router-view name="logReg"></router-view>
   </transition>
   ```

   `name`  : 动画名称，可以不写

   `enter-active-class` : 进入路由动画

   `leave-active-class` : 退出路由动画

   2. vue模板中使用

   ```vue
   <div class="ty">
    <div class="box animated bounceInDown"></div>
   </div>
   ```

   **必须加上animated这个 class名，否则动画不生效**



